export type Card = {
  Effect: string;
  Code: string;
};

export const TribeKingCards: Card[] = [
  {
    Effect: "Become Ninja at start of battle",
    Code: "QRICAE",
  },
  {
    Effect: "Become Rouge with many boosts at start of battle",
    Code: "SLNDPC",
  },
  {
    Effect: "Become Saurian at start of battle",
    Code: "IMFCGO",
  },
  {
    Effect: "Become Tribe King at start of battle",
    Code: "ICGOSL",
  },
  {
    Effect: "Become Zerker at start at start of battle",
    Code: "NIFCDG",
  },
];

export const BlackWaveCard: Card[] = [
  {
    Effect: "Get All Poison",
    Code: "RFTELQ",
  },
  {
    Effect: "Get Apollon Flame",
    Code: "MBNCTA",
  },
  {
    Effect: "Get Apollon Flame EX",
    Code: "NBTACM",
  },
  {
    Effect: "Get Apollon Flame SP",
    Code: "TAMCBN",
  },
  {
    Effect: "Get Aqua + 30",
    Code: "RFTEPQ",
  },
  {
    Effect: "Get Auriga General",
    Code: "MOSHPA",
  },
  {
    Effect: "Get Auriga General EX",
    Code: "SOPAHM",
  },
  {
    Effect: "Get Auriga General SP",
    Code: "PAMHOS",
  },
  {
    Effect: "Get Brachio Wave",
    Code: "GAERQF",
  },
  {
    Effect: "Get Brachio Wave EX",
    Code: "EQFRTA",
  },
  {
    Effect: "Get Brachio Wave SP",
    Code: "FQTARE",
  },
  {
    Effect: "Get Break Count Bomb (Giga Card)",
    Code: "TDPOCA",
  },
  {
    Effect: "Get Burai",
    Code: "MBNCOA",
  },
  {
    Effect: "Get Burai EX",
    Code: "NBOACM",
  },
  {
    Effect: "Get Burai SP",
    Code: "OAMCBN",
  },
  {
    Effect: "Get Burai Sword",
    Code: "TAMPBN",
  },
  {
    Effect: "Get Burai Sword EX",
    Code: "RGSHPA",
  },
  {
    Effect: "Get Burai Sword SP",
    Code: "SGPAHR",
  },
  {
    Effect: "Get Cancer Bubble",
    Code: "SBPAHM",
  },
  {
    Effect: "Get Cancer Bubble EX",
    Code: "PAMHBS",
  },
  {
    Effect: "Get Cancer Bubble SP",
    Code: "MBNCOE",
  },
  {
    Effect: "Get Condor Geograph",
    Code: "OEMCBN",
  },
  {
    Effect: "Get Condor Geograph EX",
    Code: "MBNHPA",
  },
  {
    Effect: "Get Condor Geograph SP",
    Code: "NBPAHM",
  },
  {
    Effect: "Get Count Bomb",
    Code: "GEMRQF",
  },
  {
    Effect: "Get Crown Thunder",
    Code: "QFRGSE",
  },
  {
    Effect: "Get Crown Thunder EX",
    Code: "RFSEGQ",
  },
  {
    Effect: "Get Crown Thunder SP",
    Code: "SEQGFR",
  },
  {
    Effect: "Get Cygnus Wing",
    Code: "PARHGS",
  },
  {
    Effect: "Get Cygnus Wing EX",
    Code: "CGSHPA",
  },
  {
    Effect: "Get Cygnus Wing SP",
    Code: "SGPAHC",
  },
  {
    Effect: "Get Darkness Hole (Giga Card)",
    Code: "TDPOCN",
  },
  {
    Effect: "Get Destroy Hook",
    Code: "MBHLPA",
  },
  {
    Effect: "Get Dragon Sky",
    Code: "DOTELQ",
  },
  {
    Effect: "Get Dragon Sky",
    Code: "HDTELQ",
  },
  {
    Effect: "Get Dragon Sky EX",
    Code: "TEQLDH",
  },
  {
    Effect: "Get Dragon Sky EX",
    Code: "TEQLOD",
  },
  {
    Effect: "Get Dragon Sky GX",
    Code: "DOTELC",
  },
  {
    Effect: "Get Dragon Sky SP",
    Code: "CODLTE",
  },
  {
    Effect: "Get Dragon Sky SP",
    Code: "QSDLTE",
  },
  {
    Effect: "Get Elec + 30",
    Code: "TEQPFR",
  },
  {
    Effect: "Get Empty",
    Code: "MBDHPA",
  },
  {
    Effect: "Get Empty EX",
    Code: "DBPAHM",
  },
  {
    Effect: "Get Empty Magic (Giga Card)",
    Code: "TSHGRF",
  },
  {
    Effect: "Get Empty SP",
    Code: "PAMHBD",
  },
  {
    Effect: "Get Fire + 30",
    Code: "QFRPTE",
  },
  {
    Effect: "Get Gekiryuu Wave (Giga Card)",
    Code: "ERGSHT",
  },
  {
    Effect: "Get Gemini Spark",
    Code: "PAMHGS",
  },
  {
    Effect: "Get Gemini Spark EX",
    Code: "MBSHPA",
  },
  {
    Effect: "Get Gemini Spark SP",
    Code: "RGSHPF",
  },
  {
    Effect: "Get Gemini Thunder (Giga Card)",
    Code: "DPTNCO",
  },
  {
    Effect: "Get Giant Axe",
    Code: "MBNPTA",
  },
  {
    Effect: "Get Giga Card Buster Max",
    Code: "ACODPT",
  },
  {
    Effect: "Get Giga Card Flying Impact",
    Code: "SHTFRG",
  },
  {
    Effect: "Get Giga Card Rouge Break",
    Code: "SHTERG",
  },
  {
    Effect: "Get Giga Card Torrent Wave",
    Code: "ERKSHT",
  },
  {
    Effect: "Get Goat Kung-Fu",
    Code: "MBNLPA",
  },
  {
    Effect: "Get Goat Kung-Fu EX",
    Code: "NBPALM",
  },
  {
    Effect: "Get Goat Kung-Fu SP",
    Code: "PAMLBN",
  },
  {
    Effect: "Get Gorgon Eyes (Giga Card)",
    Code: "DPTACO",
  },
  {
    Effect: "Get Green Meteor",
    Code: "MQFRGE",
  },
  {
    Effect: "Get Harp Note",
    Code: "BMCANE",
  },
  {
    Effect: "Get Harp Note EX",
    Code: "CAENMB",
  },
  {
    Effect: "Get Harp Note SP",
    Code: "SGPFHR",
  },
  {
    Effect: "Get Ice Meteor",
    Code: "NBTAPM",
  },
  {
    Effect: "Get Impack Hook",
    Code: "DSPAHM",
  },
  {
    Effect: "Get Leo Kingdom",
    Code: "DSTELQ",
  },
  {
    Effect: "Get Leo Kingdom EX",
    Code: "TEQLSD",
  },
  {
    Effect: "Get Leo Kingdom GX",
    Code: "QFHLTE",
  },
  {
    Effect: "Get Leo Kingdom SP",
    Code: "QDHLTE",
  },
  {
    Effect: "Get Libra Balance",
    Code: "PACHGS",
  },
  {
    Effect: "Get Libra Balance EX",
    Code: "GOSHPA",
  },
  {
    Effect: "Get Libra Balance SP",
    Code: "TEQLFR",
  },
  {
    Effect: "Get Muramasa Blade",
    Code: "TEQLFD",
  },
  {
    Effect: "Get Nadare Daiko (Giga Card)",
    Code: "FRGSHT",
  },
  {
    Effect: "Get Normal + 50 (Giga Card)",
    Code: "RGSHPT",
  },
  {
    Effect: "Get Ophiuchus Queen",
    Code: "MGSHPA",
  },
  {
    Effect: "Get Ophiuchus Queen EX",
    Code: "SGPAHM",
  },
  {
    Effect: "Get Ophiuchus Queen SP",
    Code: "BNCODM",
  },
  {
    Effect: "Get Ox Fire",
    Code: "TAERQF",
  },
  {
    Effect: "Get Ox Fire EX",
    Code: "EMBNCA",
  },
  {
    Effect: "Get Ox Fire SP",
    Code: "FRGSHQ",
  },
  {
    Effect: "Get Ox Tackle (Giga Card)",
    Code: "PAMHBN",
  },
  {
    Effect: "Get Parazyle Grenade",
    Code: "HBPALM",
  },
  {
    Effect: "Get Pegasus Magic GX",
    Code: "SOPAHG",
  },
  {
    Effect: "Get Phantom Black",
    Code: "NBOECM",
  },
  {
    Effect: "Get Phantom Black EX",
    Code: "EQFRGA",
  },
  {
    Effect: "Get Phantom Black SP",
    Code: "FQGARE",
  },
  {
    Effect: "Get Phantom Slash (Giga Card)",
    Code: "EMBFHT",
  },
  {
    Effect: "Get Plasma Spread",
    Code: "MSDHPA",
  },
  {
    Effect: "Get Poison Pharaoh (Giga Card)",
    Code: "NCODPT",
  },
  {
    Effect: "Get Power Song",
    Code: "LFTEPQ",
  },
  {
    Effect: "Get Pulse Noise",
    Code: "QFDLTE",
  },
  {
    Effect: "Get Quake Song",
    Code: "TEQPFL",
  },
  {
    Effect: "Get Search Missile",
    Code: "PAMHSD",
  },
  {
    Effect: "Get Sonoc Sword",
    Code: "PAMLBH",
  },
  {
    Effect: "Get Thousand Kicks (Giga Card)",
    Code: "TSHGRE",
  },
  {
    Effect: "Get Trip Song",
    Code: "QODLTE",
  },
  {
    Effect: "Get Warrior Brand",
    Code: "DFTELQ",
  },
  {
    Effect: "Get Wolf Forest",
    Code: "QFRGTE",
  },
  {
    Effect: "Get Wolf Forest EX",
    Code: "RFTEGQ",
  },
  {
    Effect: "Get Wolf Forest SP",
    Code: "TEQGFR",
  },
  {
    Effect: "Get Wood + 30",
    Code: "QFLPTE",
  },
  {
    Effect: "Get Yeti Blizzard",
    Code: "MBNCPA",
  },
  {
    Effect: "Get Yeti Blizzard EX",
    Code: "NBPACM",
  },
  {
    Effect: "Get Yeti Blizzard SP",
    Code: "PAMCBN",
  },
  {
    Effect: "Get Zetsuen Meteor",
    Code: "FQGERM",
  },
  {
    Effect: "Get Zetsumetsu Meteor",
    Code: "QFRLTE",
  },
];

export const GiantVersionEnemies: Card[] = [
  {
    Effect: "AIMODP",
    Code: "Flitter",
  },
  {
    Effect: "AIMQDP",
    Code: "Carpet Jinn",
  },
  {
    Effect: "AIQBDP",
    Code: "Boogeist",
  },
  {
    Effect: "AIQBFP",
    Code: "Hare Jet",
  },
  {
    Effect: "AIQFNP",
    Code: "Dark Reaper",
  },
  {
    Effect: "AIQFRP",
    Code: "Muff",
  },
  {
    Effect: "ANCODP",
    Code: "Colonel Mop",
  },
  {
    Effect: "BDPAIQ",
    Code: "Mat Jinn",
  },
  {
    Effect: "BFPAIQ",
    Code: "Hare Rocket",
  },
  {
    Effect: "BNCODH",
    Code: "Hot Roader",
  },
  {
    Effect: "BNCODP",
    Code: "Cyclone",
  },
  {
    Effect: "BNCODQ",
    Code: "Base Sniper",
  },
  {
    Effect: "BNCOSD",
    Code: "Stream Cancro",
  },
  {
    Effect: "CGOMBN",
    Code: "Giant Face",
  },
  {
    Effect: "CNDBOF",
    Code: "Bang",
  },
  {
    Effect: "CNDQOB",
    Code: "Mono Swordil",
  },
  {
    Effect: "COSMBN",
    Code: "Copy Fokx",
  },
  {
    Effect: "DBFONC",
    Code: "Ka-Boom",
  },
  {
    Effect: "DOSCNB",
    Code: "Sea Cancro",
  },
  {
    Effect: "DQBONC",
    Code: "Moaian",
  },
  {
    Effect: "EMBFNT",
    Code: "Shock Mummy",
  },
  {
    Effect: "EMBNCG",
    Code: "Grabotron",
  },
  {
    Effect: "EMBNCT",
    Code: "Eyes",
  },
  {
    Effect: "EMBNRT",
    Code: "Stealth",
  },
  {
    Effect: "FNPAIQ",
    Code: "Dark Joker",
  },
  {
    Effect: "FNTEMB",
    Code: "Shock Tut",
  },
  {
    Effect: "FRGSDH",
    Code: "Bubba Dance",
  },
  {
    Effect: "FRPAIQ",
    Code: "Raid",
  },
  {
    Effect: "GNCBME",
    Code: "McLeave",
  },
  {
    Effect: "GOSQFR",
    Code: "Sno Rollet",
  },
  {
    Effect: "GRHFSN",
    Code: "Air Squiggle",
  },
  {
    Effect: "HFNSRG",
    Code: "Air Squirm",
  },
  {
    Effect: "HODCNB",
    Code: "Hot Biker",
  },
  {
    Effect: "HSDGRF",
    Code: "Jaka Dance",
  },
  {
    Effect: "IQFRGO",
    Code: "Lampis",
  },
  {
    Effect: "IQFRGS",
    Code: "Piran",
  },
  {
    Effect: "LBNDCO",
    Code: "BomBomBom",
  },
  {
    Effect: "LFNDCO",
    Code: "Gloppy",
  },
  {
    Effect: "MBNCGO",
    Code: "Stonehead",
  },
  {
    Effect: "MBNCOS",
    Code: "Fokx",
  },
  {
    Effect: "NBOMCQ",
    Code: "Base Mortar",
  },
  {
    Effect: "NCGEMB",
    Code: "Grabaklone",
  },
  {
    Effect: "NCODLB",
    Code: "Bom",
  },
  {
    Effect: "NCODLF",
    Code: "Gooey",
  },
  {
    Effect: "NCTEMB",
    Code: "Guard Eyez",
  },
  {
    Effect: "NRGSHF",
    Code: "Ransack",
  },
  {
    Effect: "NRTEMB",
    Code: "Mega Stealth",
  },
  {
    Effect: "OCGNBM",
    Code: "Grabity",
  },
  {
    Effect: "OCLBDN",
    Code: "BomBom",
  },
  {
    Effect: "OCLFDN",
    Code: "Goopy",
  },
  {
    Effect: "ODHBNC",
    Code: "Hot Motor",
  },
  {
    Effect: "ODPAIM",
    Code: "Flitterize",
  },
  {
    Effect: "ODPANC",
    Code: "General Mop",
  },
  {
    Effect: "ODPBNC",
    Code: "Tempest",
  },
  {
    Effect: "OMQCBN",
    Code: "Base Gunner",
  },
  {
    Effect: "OSDBNC",
    Code: "River Cancro",
  },
  {
    Effect: "PBDQIA",
    Code: "Rug Jinn",
  },
  {
    Effect: "PBFQIA",
    Code: "Hare Nitro",
  },
  {
    Effect: "PFDQIA",
    Code: "Boospook",
  },
  {
    Effect: "PFNQIA",
    Code: "Dark Demon",
  },
  {
    Effect: "PFRQIA",
    Code: "Ravage",
  },
  {
    Effect: "PNRHGS",
    Code: "Mono Swordin",
  },
  {
    Effect: "PODCIA",
    Code: "Private Mop",
  },
  {
    Effect: "PODCNA",
    Code: "Storm",
  },
  {
    Effect: "PODCNB",
    Code: "Flit",
  },
  {
    Effect: "PODMIA",
    Code: "Boodach",
  },
  {
    Effect: "PQDMIA",
    Code: "Fluff",
  },
  {
    Effect: "QBNCOM",
    Code: "Metenna 3",
  },
  {
    Effect: "QDPAIM",
    Code: "Puff",
  },
  {
    Effect: "QFRGOS",
    Code: "Sno Roll",
  },
  {
    Effect: "QFRGSD",
    Code: "Boom",
  },
  {
    Effect: "RFSMGQ",
    Code: "Metenna",
  },
  {
    Effect: "RGOIQF",
    Code: "Lucis",
  },
  {
    Effect: "RGSHPN",
    Code: "Air Wobble",
  },
  {
    Effect: "RGSIQF",
    Code: "Piraner",
  },
  {
    Effect: "SCONBM",
    Code: "Guise Fokx",
  },
  {
    Effect: "SDHFRG",
    Code: "Hoppa Dance",
  },
  {
    Effect: "SGORFQ",
    Code: "Sno Rollest",
  },
  {
    Effect: "SGPNHR",
    Code: "Mono Sword",
  },
  {
    Effect: "SMQGFR",
    Code: "Metenna 2",
  },
  {
    Effect: "SRGFQI",
    Code: "Piranest",
  },
  {
    Effect: "TFNBME",
    Code: "Shock Seti",
  },
  {
    Effect: "TNCBME",
    Code: "Protect Eyez",
  },
  {
    Effect: "TNRBME",
    Code: "Giga Stealth",
  },
  {
    Effect: "TSHGEA",
    Code: "Lumis",
  },
];

function isSameCard(a: Card) {
  return (b: Card) => a.Code === b.Code;
}

function removeDuplicits(cards: Card[]) {
  let uniq: Card[] = [];
  let duplicits: [Card, Card][] = [];
  cards.forEach((card, i, arr) => {
    const other = arr
      .slice(Math.min(i + 1, arr.length - 1))
      .find(isSameCard(card));
    if (other) {
      duplicits.push([card, other]);
      return;
    }
    if (!arr.slice(0, i).find(isSameCard(card))) uniq.push(card);
  });
  return [
    ...uniq,
    ...duplicits.map(([a, b]) => (a.Effect.startsWith("Get") ? a : b)),
  ];
}

function sortCards(cards: Card[]) {
  return cards.sort((a, b) => a.Effect.localeCompare(b.Effect));
}

function cleanUpCardCode(cards: Card[]) {
  return cards.map(({ Code, ...other }) => ({
    ...other,
    Code: Code.replace(/[\s,]/g, ""),
  }));
}

export function cleanUpCards(cards: Card[]) {
  return sortCards(cleanUpCardCode(removeDuplicits(cards)));
}

console.log(cleanUpCards(BlackWaveCard));
