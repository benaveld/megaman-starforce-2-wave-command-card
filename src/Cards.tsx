export type Card = {
  Effect: string;
  Code: string;
};

export const TribeKingCards: Card[] = [
  {
    Effect: "Become Ninja at start of battle",
    Code: "QRICAE",
  },
  {
    Effect: "Become Rouge with many boosts at start of battle",
    Code: "SLNDPC",
  },
  {
    Effect: "Become Saurian at start of battle",
    Code: "IMFCGO",
  },
  {
    Effect: "Become Tribe King at start of battle",
    Code: "ICGOSL",
  },
  {
    Effect: "Become Zerker at start at start of battle",
    Code: "NIFCDG",
  },
];

export const BlackWaveCard: Card[] = [
  {
    Effect: "Get All Poison",
    Code: "RFTELQ",
  },
  {
    Effect: "Get Apollon Flame",
    Code: "MBNCTA",
  },
  {
    Effect: "Get Apollon Flame EX",
    Code: "NBTACM",
  },
  {
    Effect: "Get Apollon Flame SP",
    Code: "TAMCBN",
  },
  {
    Effect: "Get Aqua + 30",
    Code: "RFTEPQ",
  },
  {
    Effect: "Get Auriga General",
    Code: "MOSHPA",
  },
  {
    Effect: "Get Auriga General EX",
    Code: "SOPAHM",
  },
  {
    Effect: "Get Auriga General SP",
    Code: "PAMHOS",
  },
  {
    Effect: "Get Brachio Wave",
    Code: "GAERQF",
  },
  {
    Effect: "Get Brachio Wave EX",
    Code: "EQFRTA",
  },
  {
    Effect: "Get Brachio Wave SP",
    Code: "FQTARE",
  },
  {
    Effect: "Get Break Count Bomb (Giga Card)",
    Code: "TDPOCA",
  },
  {
    Effect: "Get Burai",
    Code: "MBNCOA",
  },
  {
    Effect: "Get Burai EX",
    Code: "NBOACM",
  },
  {
    Effect: "Get Burai SP",
    Code: "OAMCBN",
  },
  {
    Effect: "Get Burai Sword",
    Code: "TAMPBN",
  },
  {
    Effect: "Get Burai Sword EX",
    Code: "RGSHPA",
  },
  {
    Effect: "Get Burai Sword SP",
    Code: "SGPAHR",
  },
  {
    Effect: "Get Cancer Bubble",
    Code: "SBPAHM",
  },
  {
    Effect: "Get Cancer Bubble EX",
    Code: "PAMHBS",
  },
  {
    Effect: "Get Cancer Bubble SP",
    Code: "MBNCOE",
  },
  {
    Effect: "Get Condor Geograph",
    Code: "OEMCBN",
  },
  {
    Effect: "Get Condor Geograph EX",
    Code: "MBNHPA",
  },
  {
    Effect: "Get Condor Geograph SP",
    Code: "NBPAHM",
  },
  {
    Effect: "Get Count Bomb",
    Code: "GEMRQF",
  },
  {
    Effect: "Get Crown Thunder",
    Code: "QFRGSE",
  },
  {
    Effect: "Get Crown Thunder EX",
    Code: "RFSEGQ",
  },
  {
    Effect: "Get Crown Thunder SP",
    Code: "SEQGFR",
  },
  {
    Effect: "Get Cygnus Wing",
    Code: "PARHGS",
  },
  {
    Effect: "Get Cygnus Wing EX",
    Code: "CGSHPA",
  },
  {
    Effect: "Get Cygnus Wing SP",
    Code: "SGPAHC",
  },
  {
    Effect: "Get Darkness Hole (Giga Card)",
    Code: "TDPOCN",
  },
  {
    Effect: "Get Destroy Hook",
    Code: "MBHLPA",
  },
  {
    Effect: "Get Dragon Sky",
    Code: "DOTELQ",
  },
  {
    Effect: "Get Dragon Sky",
    Code: "HDTELQ",
  },
  {
    Effect: "Get Dragon Sky EX",
    Code: "TEQLDH",
  },
  {
    Effect: "Get Dragon Sky EX",
    Code: "TEQLOD",
  },
  {
    Effect: "Get Dragon Sky GX",
    Code: "DOTELC",
  },
  {
    Effect: "Get Dragon Sky SP",
    Code: "CODLTE",
  },
  {
    Effect: "Get Dragon Sky SP",
    Code: "QSDLTE",
  },
  {
    Effect: "Get Elec + 30",
    Code: "TEQPFR",
  },
  {
    Effect: "Get Empty",
    Code: "MBDHPA",
  },
  {
    Effect: "Get Empty EX",
    Code: "DBPAHM",
  },
  {
    Effect: "Get Empty Magic (Giga Card)",
    Code: "TSHGRF",
  },
  {
    Effect: "Get Empty SP",
    Code: "PAMHBD",
  },
  {
    Effect: "Get Fire + 30",
    Code: "QFRPTE",
  },
  {
    Effect: "Get Gekiryuu Wave (Giga Card)",
    Code: "ERGSHT",
  },
  {
    Effect: "Get Gemini Spark",
    Code: "PAMHGS",
  },
  {
    Effect: "Get Gemini Spark EX",
    Code: "MBSHPA",
  },
  {
    Effect: "Get Gemini Spark SP",
    Code: "RGSHPF",
  },
  {
    Effect: "Get Gemini Thunder (Giga Card)",
    Code: "DPTNCO",
  },
  {
    Effect: "Get Giant Axe",
    Code: "MBNPTA",
  },
  {
    Effect: "Get Giga Card Buster Max",
    Code: "ACODPT",
  },
  {
    Effect: "Get Giga Card Flying Impact",
    Code: "SHTFRG",
  },
  {
    Effect: "Get Giga Card Rouge Break",
    Code: "SHTERG",
  },
  {
    Effect: "Get Giga Card Torrent Wave",
    Code: "ERKSHT",
  },
  {
    Effect: "Get Goat Kung-Fu",
    Code: "MBNLPA",
  },
  {
    Effect: "Get Goat Kung-Fu EX",
    Code: "NBPALM",
  },
  {
    Effect: "Get Goat Kung-Fu SP",
    Code: "PAMLBN",
  },
  {
    Effect: "Get Gorgon Eyes (Giga Card)",
    Code: "DPTACO",
  },
  {
    Effect: "Get Green Meteor",
    Code: "MQFRGE",
  },
  {
    Effect: "Get Harp Note",
    Code: "BMCANE",
  },
  {
    Effect: "Get Harp Note EX",
    Code: "CAENMB",
  },
  {
    Effect: "Get Harp Note SP",
    Code: "SGPFHR",
  },
  {
    Effect: "Get Ice Meteor",
    Code: "NBTAPM",
  },
  {
    Effect: "Get Impack Hook",
    Code: "DSPAHM",
  },
  {
    Effect: "Get Leo Kingdom",
    Code: "DSTELQ",
  },
  {
    Effect: "Get Leo Kingdom EX",
    Code: "TEQLSD",
  },
  {
    Effect: "Get Leo Kingdom GX",
    Code: "QFHLTE",
  },
  {
    Effect: "Get Leo Kingdom SP",
    Code: "QDHLTE",
  },
  {
    Effect: "Get Libra Balance",
    Code: "PACHGS",
  },
  {
    Effect: "Get Libra Balance EX",
    Code: "GOSHPA",
  },
  {
    Effect: "Get Libra Balance SP",
    Code: "TEQLFR",
  },
  {
    Effect: "Get Muramasa Blade",
    Code: "TEQLFD",
  },
  {
    Effect: "Get Nadare Daiko (Giga Card)",
    Code: "FRGSHT",
  },
  {
    Effect: "Get Normal + 50 (Giga Card)",
    Code: "RGSHPT",
  },
  {
    Effect: "Get Ophiuchus Queen",
    Code: "MGSHPA",
  },
  {
    Effect: "Get Ophiuchus Queen EX",
    Code: "SGPAHM",
  },
  {
    Effect: "Get Ophiuchus Queen SP",
    Code: "BNCODM",
  },
  {
    Effect: "Get Ox Fire",
    Code: "TAERQF",
  },
  {
    Effect: "Get Ox Fire EX",
    Code: "EMBNCA",
  },
  {
    Effect: "Get Ox Fire SP",
    Code: "FRGSHQ",
  },
  {
    Effect: "Get Ox Tackle (Giga Card)",
    Code: "PAMHBN",
  },
  {
    Effect: "Get Parazyle Grenade",
    Code: "HBPALM",
  },
  {
    Effect: "Get Pegasus Magic GX",
    Code: "SOPAHG",
  },
  {
    Effect: "Get Phantom Black",
    Code: "NBOECM",
  },
  {
    Effect: "Get Phantom Black EX",
    Code: "EQFRGA",
  },
  {
    Effect: "Get Phantom Black SP",
    Code: "FQGARE",
  },
  {
    Effect: "Get Phantom Slash (Giga Card)",
    Code: "EMBFHT",
  },
  {
    Effect: "Get Plasma Spread",
    Code: "MSDHPA",
  },
  {
    Effect: "Get Poison Pharaoh (Giga Card)",
    Code: "NCODPT",
  },
  {
    Effect: "Get Power Song",
    Code: "LFTEPQ",
  },
  {
    Effect: "Get Pulse Noise",
    Code: "QFDLTE",
  },
  {
    Effect: "Get Quake Song",
    Code: "TEQPFL",
  },
  {
    Effect: "Get Search Missile",
    Code: "PAMHSD",
  },
  {
    Effect: "Get Sonoc Sword",
    Code: "PAMLBH",
  },
  {
    Effect: "Get Thousand Kicks (Giga Card)",
    Code: "TSHGRE",
  },
  {
    Effect: "Get Trip Song",
    Code: "QODLTE",
  },
  {
    Effect: "Get Warrior Brand",
    Code: "DFTELQ",
  },
  {
    Effect: "Get Wolf Forest",
    Code: "QFRGTE",
  },
  {
    Effect: "Get Wolf Forest EX",
    Code: "RFTEGQ",
  },
  {
    Effect: "Get Wolf Forest SP",
    Code: "TEQGFR",
  },
  {
    Effect: "Get Wood + 30",
    Code: "QFLPTE",
  },
  {
    Effect: "Get Yeti Blizzard",
    Code: "MBNCPA",
  },
  {
    Effect: "Get Yeti Blizzard EX",
    Code: "NBPACM",
  },
  {
    Effect: "Get Yeti Blizzard SP",
    Code: "PAMCBN",
  },
  {
    Effect: "Get Zetsuen Meteor",
    Code: "FQGERM",
  },
  {
    Effect: "Get Zetsumetsu Meteor",
    Code: "QFRLTE",
  },
];

export const GiantVersionEnemies: Card[] = [
  {
    Code: "GRHFSN",
    Effect: "Air Squiggle",
  },
  {
    Code: "HFNSRG",
    Effect: "Air Squirm",
  },
  {
    Code: "RGSHPN",
    Effect: "Air Wobble",
  },
  {
    Code: "CNDBOF",
    Effect: "Bang",
  },
  {
    Code: "OMQCBN",
    Effect: "Base Gunner",
  },
  {
    Code: "NBOMCQ",
    Effect: "Base Mortar",
  },
  {
    Code: "BNCODQ",
    Effect: "Base Sniper",
  },
  {
    Code: "NCODLB",
    Effect: "Bom",
  },
  {
    Code: "OCLBDN",
    Effect: "BomBom",
  },
  {
    Code: "LBNDCO",
    Effect: "BomBomBom",
  },
  {
    Code: "PODMIA",
    Effect: "Boodach",
  },
  {
    Code: "AIQBDP",
    Effect: "Boogeist",
  },
  {
    Code: "QFRGSD",
    Effect: "Boom",
  },
  {
    Code: "PFDQIA",
    Effect: "Boospook",
  },
  {
    Code: "FRGSDH",
    Effect: "Bubba Dance",
  },
  {
    Code: "AIMQDP",
    Effect: "Carpet Jinn",
  },
  {
    Code: "ANCODP",
    Effect: "Colonel Mop",
  },
  {
    Code: "COSMBN",
    Effect: "Copy Fokx",
  },
  {
    Code: "BNCODP",
    Effect: "Cyclone",
  },
  {
    Code: "PFNQIA",
    Effect: "Dark Demon",
  },
  {
    Code: "FNPAIQ",
    Effect: "Dark Joker",
  },
  {
    Code: "AIQFNP",
    Effect: "Dark Reaper",
  },
  {
    Code: "EMBNCT",
    Effect: "Eyes",
  },
  {
    Code: "PODCNB",
    Effect: "Flit",
  },
  {
    Code: "AIMODP",
    Effect: "Flitter",
  },
  {
    Code: "ODPAIM",
    Effect: "Flitterize",
  },
  {
    Code: "PQDMIA",
    Effect: "Fluff",
  },
  {
    Code: "MBNCOS",
    Effect: "Fokx",
  },
  {
    Code: "ODPANC",
    Effect: "General Mop",
  },
  {
    Code: "CGOMBN",
    Effect: "Giant Face",
  },
  {
    Code: "TNRBME",
    Effect: "Giga Stealth",
  },
  {
    Code: "LFNDCO",
    Effect: "Gloppy",
  },
  {
    Code: "NCODLF",
    Effect: "Gooey",
  },
  {
    Code: "OCLFDN",
    Effect: "Goopy",
  },
  {
    Code: "NCGEMB",
    Effect: "Grabaklone",
  },
  {
    Code: "OCGNBM",
    Effect: "Grabity",
  },
  {
    Code: "EMBNCG",
    Effect: "Grabotron",
  },
  {
    Code: "NCTEMB",
    Effect: "Guard Eyez",
  },
  {
    Code: "SCONBM",
    Effect: "Guise Fokx",
  },
  {
    Code: "AIQBFP",
    Effect: "Hare Jet",
  },
  {
    Code: "PBFQIA",
    Effect: "Hare Nitro",
  },
  {
    Code: "BFPAIQ",
    Effect: "Hare Rocket",
  },
  {
    Code: "SDHFRG",
    Effect: "Hoppa Dance",
  },
  {
    Code: "HODCNB",
    Effect: "Hot Biker",
  },
  {
    Code: "ODHBNC",
    Effect: "Hot Motor",
  },
  {
    Code: "BNCODH",
    Effect: "Hot Roader",
  },
  {
    Code: "HSDGRF",
    Effect: "Jaka Dance",
  },
  {
    Code: "DBFONC",
    Effect: "Ka-Boom",
  },
  {
    Code: "IQFRGO",
    Effect: "Lampis",
  },
  {
    Code: "RGOIQF",
    Effect: "Lucis",
  },
  {
    Code: "TSHGEA",
    Effect: "Lumis",
  },
  {
    Code: "BDPAIQ",
    Effect: "Mat Jinn",
  },
  {
    Code: "GNCBME",
    Effect: "McLeave",
  },
  {
    Code: "NRTEMB",
    Effect: "Mega Stealth",
  },
  {
    Code: "RFSMGQ",
    Effect: "Metenna",
  },
  {
    Code: "SMQGFR",
    Effect: "Metenna 2",
  },
  {
    Code: "QBNCOM",
    Effect: "Metenna 3",
  },
  {
    Code: "DQBONC",
    Effect: "Moaian",
  },
  {
    Code: "SGPNHR",
    Effect: "Mono Sword",
  },
  {
    Code: "CNDQOB",
    Effect: "Mono Swordil",
  },
  {
    Code: "PNRHGS",
    Effect: "Mono Swordin",
  },
  {
    Code: "AIQFRP",
    Effect: "Muff",
  },
  {
    Code: "IQFRGS",
    Effect: "Piran",
  },
  {
    Code: "RGSIQF",
    Effect: "Piraner",
  },
  {
    Code: "SRGFQI",
    Effect: "Piranest",
  },
  {
    Code: "PODCIA",
    Effect: "Private Mop",
  },
  {
    Code: "TNCBME",
    Effect: "Protect Eyez",
  },
  {
    Code: "QDPAIM",
    Effect: "Puff",
  },
  {
    Code: "FRPAIQ",
    Effect: "Raid",
  },
  {
    Code: "NRGSHF",
    Effect: "Ransack",
  },
  {
    Code: "PFRQIA",
    Effect: "Ravage",
  },
  {
    Code: "OSDBNC",
    Effect: "River Cancro",
  },
  {
    Code: "PBDQIA",
    Effect: "Rug Jinn",
  },
  {
    Code: "DOSCNB",
    Effect: "Sea Cancro",
  },
  {
    Code: "EMBFNT",
    Effect: "Shock Mummy",
  },
  {
    Code: "TFNBME",
    Effect: "Shock Seti",
  },
  {
    Code: "FNTEMB",
    Effect: "Shock Tut",
  },
  {
    Code: "QFRGOS",
    Effect: "Sno Roll",
  },
  {
    Code: "SGORFQ",
    Effect: "Sno Rollest",
  },
  {
    Code: "GOSQFR",
    Effect: "Sno Rollet",
  },
  {
    Code: "EMBNRT",
    Effect: "Stealth",
  },
  {
    Code: "MBNCGO",
    Effect: "Stonehead",
  },
  {
    Code: "PODCNA",
    Effect: "Storm",
  },
  {
    Code: "BNCOSD",
    Effect: "Stream Cancro",
  },
  {
    Code: "ODPBNC",
    Effect: "Tempest",
  },
];

function isSameCard(a: Card) {
  return (b: Card) => a.Code === b.Code;
}

function removeDuplicits(cards: Card[]) {
  let uniq: Card[] = [];
  let duplicits: [Card, Card][] = [];
  cards.forEach((card, i, arr) => {
    const other = arr
      .slice(Math.min(i + 1, arr.length - 1))
      .find(isSameCard(card));
    if (other) {
      duplicits.push([card, other]);
      return;
    }
    if (!arr.slice(0, i).find(isSameCard(card))) uniq.push(card);
  });
  return [
    ...uniq,
    ...duplicits.map(([a, b]) => (a.Effect.startsWith("Get") ? a : b)),
  ];
}

function sortCards(cards: Card[]) {
  return cards.sort((a, b) => a.Effect.localeCompare(b.Effect));
}

function cleanUpCardCode(cards: Card[]) {
  return cards.map(({ Code, ...other }) => ({
    ...other,
    Code: Code.replace(/[\s,]/g, ""),
  }));
}

export function cleanUpCards(cards: Card[]) {
  return sortCards(cleanUpCardCode(removeDuplicits(cards)));
}
